<?xml version="1.0" encoding="UTF-8" standalone="no"?><xmi:XMI xmlns:xmi="http://www.omg.org/XMI" xmlns:TalendMetadata="http://www.talend.org/metadata/connection/2010" xmlns:orgomg.cwm.resource.relational="http:///orgomg/cwm/resource/relational.ecore" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmi:version="2.0">
  <TalendMetadata:DatabaseConnection AdditionalParams="context.EDW_900_OMD_Framework_AdditionalParams" ContextId="_K-TOwGSKEeiufZeuOqz-XA" ContextMode="true" DatabaseType="Microsoft SQL Server" DatasourceName="" DbmsId="id_MSSQL" DriverClass="com.microsoft.sqlserver.jdbc.SQLServerDriver" FileFieldName="" NullChar="" Password="context.EDW_900_OMD_Framework_Password" Port="context.EDW_900_OMD_Framework_Port" ProductId="SQL_SERVER" SID="context.EDW_900_OMD_Framework_Database" SQLMode="false" ServerName="context.EDW_900_OMD_Framework_Server" SqlSynthax="" StandardSQL="true" StringQuote="" URL="jdbc:sqlserver://ec2-52-62-215-95.ap-southeast-2.compute.amazonaws.com:1433;DatabaseName=EDW_900_OMD_Framework;" UiSchema="context.EDW_900_OMD_Framework_Schema" Username="context.EDW_900_OMD_Framework_Login" contextName="dev" dataPackage="_NWo78MYuEei-l51DB17xmA" dbVersionString="MSSQL_PROP" id="_HDie0GSJEeiufZeuOqz-XA" label="EDW_900_OMD_Framework" name="EDW_900_OMD_Framework" xmi:id="_LMOWAGSKEeiufZeuOqz-XA">
    <taggedValue tag="Is Conn Need Reload" value="false" xmi:id="_LMOWAWSKEeiufZeuOqz-XA"/>
    <taggedValue tag="package filter" value="" xmi:id="_LMc_gGSKEeiufZeuOqz-XA"/>
    <taggedValue tag="Status" value="" xmi:id="_LMkUQGSKEeiufZeuOqz-XA"/>
    <taggedValue tag="Version" value="0.1" xmi:id="_LMkUQWSKEeiufZeuOqz-XA"/>
    <taggedValue tag="Purpose" value="" xmi:id="_LMkUQmSKEeiufZeuOqz-XA"/>
    <taggedValue tag="Description" value="" xmi:id="_LMkUQ2SKEeiufZeuOqz-XA"/>
    <taggedValue tag="Author" value="" xmi:id="_LMkURGSKEeiufZeuOqz-XA"/>
    <taggedValue tag="otherParameter" xmi:id="_LMkURWSKEeiufZeuOqz-XA"/>
    <taggedValue tag="DB ProductName" value="Microsoft SQL Server" xmi:id="_LZVk8GSKEeiufZeuOqz-XA"/>
    <taggedValue tag="DB ProductVersion" value="13.00.4001" xmi:id="_LZVk8WSKEeiufZeuOqz-XA"/>
    <taggedValue tag="DB IdentifierQuoteString" value="&quot;" xmi:id="_LZVk8mSKEeiufZeuOqz-XA"/>
    <queries xmi:id="_VmTdUGSMEeifEN3912yNVw">
      <query contextMode="true" id="_VmTdUWSMEeifEN3912yNVw" label="Retrieve_Module_FromBatch" value="&quot;SELECT&#13;&#10;&#9;b.BATCH_CODE,&#13;&#10;&#9;m.MODULE_CODE&#13;&#10;FROM omd_batch b&#13;&#10;INNER JOIN ETL_BATCH eb on b.BATCH_ID=eb.PARENT_BATCH_ID&#13;&#10;INNER JOIN omd_batch_module bm on eb.BATCH_ID=bm.BATCH_ID&#13;&#10;INNER JOIN omd_module m on bm.MODULE_ID=m.MODULE_ID&#13;&#10;WHERE&#13;&#10;b.batch_code='&quot;+context.Acceler8_batchCode+&quot;'&#13;&#10;AND bm.INACTIVE_INDICATOR='N' AND b.INACTIVE_INDICATOR='N' AND m.INACTIVE_INDICATOR='N'&#13;&#10;AND m.MODULE_CODE LIKE 'm_100_STG%'&#13;&#10;&quot;" xmi:id="_VmTdUmSMEeifEN3912yNVw"/>
      <query contextMode="true" id="_Tjn-cGSNEeifEN3912yNVw" label="Retrieve_OMD_Query" value="&quot;SELECT&#13;&#10;MODULE_CODE,&#13;&#10;'TRUNCATE TABLE ' + targetLayer.LAYER_NAME + '.' + E.DATA_STORE_CODE as SQL_TRUNCATE,&#13;&#10;A.SQL_SOURCE,&#13;&#10;p.pattern_Name, &#13;&#10;p.etl_pattern_id, b.OMD_MODULE_ID, E.DATA_STORE_CODE, c.module_id&#13;&#10;FROM etl_STG a&#13;&#10;INNER JOIN PRJ_OBJECT b ON a.PRJ_ID=b.prj_id&#13;&#10;INNER JOIN omd_module c ON b.OMD_MODULE_ID=c.MODULE_ID&#13;&#10;INNER JOIN OMD_MODULE_DATA_STORE d ON c.MODULE_ID=d.MODULE_ID&#13;&#10;INNER JOIN OMD_DATA_STORE e ON e.DATA_STORE_ID=d.DATA_STORE_ID &#13;&#10;INNER JOIN prj_layer sourceLayer ON sourceLayer.PRJ_LAYER_ID=b.SOURCE_PRJ_LAYER_ID&#13;&#10;INNER JOIN prj_layer targetLayer ON targetLayer.PRJ_LAYER_ID=b.TARGET_PRJ_LAYER_ID&#13;&#10;INNER JOIN etl_pattern p ON a.etl_pattern_id=p.etl_pattern_id&#13;&#10;WHERE  SQL_SOURCE IS NOT NULL&#13;&#10;AND OMD_CURRENT_RECORD_INDICATOR='Y' AND OMD_DELETED_RECORD_INDICATOR='N'&#13;&#10;AND MODULE_CODE='&quot;+((String)globalMap.get(&quot;module&quot;))+&quot;'&#13;&#10;ORDER BY 1&quot;" xmi:id="_Tjn-cWSNEeifEN3912yNVw"/>
      <query contextMode="true" id="_pAMT0GoWEei8SNd6M-b8ww" label="retrieve_batchID" value="&quot;&#13;&#10;SELECT BATCH_ID, NEXT_RUN_INDICATOR&#13;&#10;FROM omd_batch &#13;&#10;WHERE &#9;&#9;batch_code='&quot;+context.Acceler8_batchCode+&quot;' &#13;&#10;&#9;&#9;AND &#9;INACTIVE_INDICATOR = 'N'&#13;&#10;&#9;&#9;AND &#9;NEXT_RUN_INDICATOR IN ('P','PR','FR')&#13;&#10;&quot;" xmi:id="_pAMT0WoWEei8SNd6M-b8ww"/>
      <query contextMode="true" id="_kaALkGq1Eei56aqp8Odzcg" label="retrieve_BatchInstanceID" value="&quot;SELECT&#13;&#10;&#9;BATCH_INSTANCE_ID,&#13;&#10;&#9;PROCESSING_INDICATOR&#13;&#10;FROM OMD_BATCH_INSTANCE &#13;&#10;WHERE BATCH_ID='&quot;+((String)globalMap.get(&quot;batchID&quot;))+&quot;'&#13;&#10;AND START_DATETIME='&quot;+TalendDate.TO_CHAR(context.Acceler8_START_DATETIME, &quot;yyyy-MM-dd HH24:MI:SS&quot;)+&quot;'&#13;&#10;AND EXECUTION_STATUS_CODE='E'&#13;&#10;&quot;" xmi:id="_kaALkWq1Eei56aqp8Odzcg"/>
      <query id="_qVj5UGrcEeiuBJWC5IfICg" label="update_batchInstanceID_success" value="&quot;UPDATE b&#13;&#10;SET &#13;&#10;&#9;b.EXECUTION_STATUS_CODE=CASE WHEN m.EXECUTION_STATUS_CODE='A' THEN 'F' ELSE 'S' END&#13;&#10;  , b.END_DATETIME=GETDATE(),&#13;&#10;&#9;b.NEXT_RUN_INDICATOR='P' &#13;&#10;FROM OMD_BATCH_INSTANCE b LEFT OUTER JOIN &#13;&#10;(&#13;&#10;&#9;SELECT &#13;&#10;&#9;&#9;&#9;BATCH_INSTANCE_ID,&#13;&#10;&#9;&#9;&#9;MIN(EXECUTION_STATUS_CODE) AS EXECUTION_STATUS_CODE &#13;&#10;&#9;FROM omd_module_instance&#13;&#10;&#9;GROUP BY BATCH_INSTANCE_ID&#13;&#10;) m ON m.BATCH_INSTANCE_ID=b.BATCH_INSTANCE_ID&#13;&#10;WHERE b.BATCH_INSTANCE_ID=&quot;+((String)globalMap.get(&quot;batchInstanceID&quot;))+&quot;&#13;&#10;&quot;" xmi:id="_qVj5UWrcEeiuBJWC5IfICg"/>
      <query contextMode="true" id="__9iuYGrcEeiuBJWC5IfICg" label="update_batchInstanceID_failure" value="&quot;&#13;&#10;UPDATE &#13;&#10;&#9;OMD_BATCH_INSTANCE&#13;&#10;SET&#13;&#10;&#9; EXECUTION_STATUS_CODE='F'&#13;&#10;&#9;,END_DATETIME=GETDATE()&#13;&#10;&#9;,NEXT_RUN_INDICATOR='P'&#13;&#10;WHERE BATCH_INSTANCE_ID=&quot;+((String)globalMap.get(&quot;batchInstanceID&quot;))+&quot;&#13;&#10;&quot;" xmi:id="__9iuYWrcEeiuBJWC5IfICg"/>
      <query contextMode="true" id="_ddnVgGrnEeiuBJWC5IfICg" label="insert_LogErrorMessage" value="&quot;&#13;&#10;INSERT INTO OMD_EVENT_LOG (&#13;&#10;BATCH_INSTANCE_ID,&#13;&#10;MODULE_INSTANCE_ID,&#13;&#10;EVENT_DATETIME,&#13;&#10;EVENT_TYPE_CODE,&#13;&#10;EVENT_RETURN_CODE_DETAILS,&#13;&#10;EVENT_DETAIL,&#13;&#10;ERROR_BITMAP)&#13;&#10;VALUES (&#13;&#10;&quot;+(String)globalMap.get(&quot;batchInstanceID&quot;)+&quot;,&#13;&#10;&quot;+(String)globalMap.get(&quot;ModuleInstanceId&quot;)+&quot;,&#13;&#10;GETDATE(),&#13;&#10;2,&#13;&#10;'&quot;+(String)globalMap.get(&quot;errorCode&quot;)+&quot;',&#13;&#10;'&quot;+((String)globalMap.get(&quot;errorMessage&quot;)).replace(&quot;'&quot;,&quot;''&quot;)+&quot;',&#13;&#10;0&#13;&#10;)&#13;&#10;&quot;" xmi:id="_ddnVgWrnEeiuBJWC5IfICg"/>
      <query comment="Retrieve Paramater not attached to any Module" id="_3tbS8G9pEeiuBJWC5IfICg" label="retrieve_general_parameter" value="SELECT PARAMETER_ID, PARAMETER_KEY_CODE, PARAMETER_VALUE_CODE&#13;&#10;FROM OMD_PARAMETER&#13;&#10;WHERE PARAMETER_ID NOT IN (SELECT PARAMETER_ID FROM OMD_MODULE_PARAMETER)" xmi:id="_3tbS8W9pEeiuBJWC5IfICg"/>
      <query contextMode="true" id="_ymaCkHgsEeijjcAbfkO8-A" label="Retrieve_Module_FromBatch_HSTG" value="&quot;SELECT&#13;&#10;&#9;b.BATCH_CODE,&#13;&#10;&#9;m.MODULE_CODE&#13;&#10;FROM omd_batch b&#13;&#10;INNER JOIN ETL_BATCH eb on b.BATCH_ID=eb.PARENT_BATCH_ID&#13;&#10;INNER JOIN omd_batch_module bm on eb.BATCH_ID=bm.BATCH_ID&#13;&#10;INNER JOIN omd_module m on bm.MODULE_ID=m.MODULE_ID&#13;&#10;WHERE&#13;&#10;b.batch_code='&quot;+context.Acceler8_batchCode+&quot;'&#13;&#10;AND bm.INACTIVE_INDICATOR='N' AND b.INACTIVE_INDICATOR='N' AND m.INACTIVE_INDICATOR='N'&#13;&#10;AND m.MODULE_CODE LIKE 'm_150_HSTG%'&#13;&#10;&quot;" xmi:id="_ymapoHgsEeijjcAbfkO8-A"/>
      <query contextMode="true" id="_9QPnsHgvEeijjcAbfkO8-A" label="Retrieve_OMD_Query_HSTG" value="&quot;SELECT&#13;&#10;MODULE_CODE,&#13;&#10;A.SQL_SOURCE,&#13;&#10;p.pattern_Name,&#13;&#10;p.etl_pattern_id, b.OMD_MODULE_ID, E.DATA_STORE_CODE, c.module_id&#13;&#10;FROM etl_HSTG a&#13;&#10;INNER JOIN PRJ_OBJECT b ON a.PRJ_ID=b.prj_id&#13;&#10;INNER JOIN omd_module c ON b.OMD_MODULE_ID=c.MODULE_ID&#13;&#10;INNER JOIN OMD_MODULE_DATA_STORE d ON c.MODULE_ID=d.MODULE_ID&#13;&#10;INNER JOIN OMD_DATA_STORE e ON e.DATA_STORE_ID=d.DATA_STORE_ID &#13;&#10;INNER JOIN prj_layer sourceLayer ON sourceLayer.PRJ_LAYER_ID=b.SOURCE_PRJ_LAYER_ID&#13;&#10;INNER JOIN prj_layer targetLayer ON targetLayer.PRJ_LAYER_ID=b.TARGET_PRJ_LAYER_ID&#13;&#10;INNER JOIN etl_pattern p ON a.etl_pattern_id=p.etl_pattern_id&#13;&#10;WHERE  SQL_SOURCE IS NOT NULL&#13;&#10;AND OMD_CURRENT_RECORD_INDICATOR='Y' AND OMD_DELETED_RECORD_INDICATOR='N'&#13;&#10;AND MODULE_CODE='&quot;+((String)globalMap.get(&quot;module&quot;))+&quot;'&#13;&#10;ORDER BY 1&quot;" xmi:id="_9QPnsXgvEeijjcAbfkO8-A"/>
      <query contextMode="true" id="_DBssIHg0EeijjcAbfkO8-A" label="Retrieve_Module_FromBatch_LND" value="&quot;SELECT&#13;&#10;&#9;b.BATCH_CODE,&#13;&#10;&#9;m.MODULE_CODE&#13;&#10;FROM omd_batch b&#13;&#10;INNER JOIN ETL_BATCH eb on b.BATCH_ID=eb.PARENT_BATCH_ID&#13;&#10;INNER JOIN omd_batch_module bm on eb.BATCH_ID=bm.BATCH_ID&#13;&#10;INNER JOIN omd_module m on bm.MODULE_ID=m.MODULE_ID&#13;&#10;WHERE&#13;&#10;b.batch_code='&quot;+context.Acceler8_batchCode+&quot;'&#13;&#10;AND bm.INACTIVE_INDICATOR='N' AND b.INACTIVE_INDICATOR='N' AND m.INACTIVE_INDICATOR='N'&#13;&#10;AND m.MODULE_CODE LIKE 'm_050_LND%'&#13;&#10;&quot;" xmi:id="_DBssIXg0EeijjcAbfkO8-A"/>
      <query id="_LPCcwHj_EeijjcAbfkO8-A" label="retrieve_INT_Hub" value="&quot;SELECT DISTINCT &#13;&#10;a.ETL_HUB_ID,&#13;&#10;PATTERN_NAME, &#13;&#10;HUB_NAME, &#13;&#10;MODULE_CODE, &#13;&#10;A.SOURCE_TABLE_NAME,&#13;&#10;E.DATA_STORE_CODE, &#13;&#10;A.SQL_SOURCE,&#13;&#10;sourceLayer.LAYER_NAME, &#13;&#10;p.etl_pattern_id, &#13;&#10;c.module_id&#13;&#10;FROM etl_HUB a&#13;&#10;INNER JOIN PRJ_OBJECT b ON a.PRJ_ID=b.prj_id&#13;&#10;INNER JOIN omd_module c ON b.OMD_MODULE_ID=c.MODULE_ID&#13;&#10;INNER JOIN OMD_MODULE_DATA_STORE d ON c.MODULE_ID=d.MODULE_ID&#13;&#10;INNER JOIN OMD_DATA_STORE e ON e.DATA_STORE_ID=d.DATA_STORE_ID &#13;&#10;INNER JOIN prj_layer sourceLayer ON sourceLayer.PRJ_LAYER_ID=b.SOURCE_PRJ_LAYER_ID&#13;&#10;INNER JOIN etl_pattern p ON a.etl_pattern_id=p.etl_pattern_id&#13;&#10;inner join omd_batch_module bm on bm.module_id=c.module_id&#13;&#10;inner join omd_batch g on g.batch_id=bm.BATCH_ID&#13;&#10;inner join ETL_BATCH h on h.batch_id=g.batch_id&#13;&#10;inner join omd_batch f on f.batch_id=h.PARENT_BATCH_ID&#13;&#10;WHERE &#13;&#10;&#9;&#9;OMD_CURRENT_RECORD_INDICATOR = 'Y' &#13;&#10;AND OMD_DELETED_RECORD_INDICATOR = 'N'&#13;&#10;AND f.batch_code='&quot;+context.Acceler8_batchCode+&quot;'&#13;&#10; ORDER BY 1&quot;" xmi:id="_LPCcwXj_EeijjcAbfkO8-A"/>
      <query contextMode="true" id="_UzcOYHkDEeijjcAbfkO8-A" label="Retrieve_ModuleInstanceId" value="&quot;SELECT&#13;&#10;&#9;MODULE_INSTANCE_ID,&#13;&#10;&#9;PROCESSING_INDICATOR,&#13;&#10;&#9;NEXT_RUN_INDICATOR&#13;&#10;FROM OMD_MODULE_INSTANCE &#13;&#10;WHERE BATCH_INSTANCE_ID='&quot;+context.Acceler8_BatchCodeId+&quot;'&#13;&#10;AND ETL_PATTERN_ID='&quot;+context.Acceler8_EtlPatternId+&quot;'&#13;&#10;AND START_DATETIME='&quot;+TalendDate.TO_CHAR(context.Acceler8_START_DATETIME, &quot;yyyy-MM-dd HH24:MI:SS&quot;)+&quot;'&#13;&#10;AND EXECUTION_STATUS_CODE='E'&#13;&#10;AND NEXT_RUN_INDICATOR IN ('P','PR','FR')&#13;&#10;&quot;" xmi:id="_UzcOYXkDEeijjcAbfkO8-A"/>
      <query id="__tP_4HmTEeijjcAbfkO8-A" label="update_ModuleInsanceId_success" value="&quot;UPDATE b&#13;&#10;SET &#13;&#10;&#9;b.EXECUTION_STATUS_CODE='S',&#13;&#10;&#9;b.END_DATETIME=GETDATE(),&#13;&#10;&#9;b.NEXT_RUN_INDICATOR='P',&#13;&#10;&#9;b.ROWS_INPUT = &quot;+((Integer)globalMap.get(&quot;Row_Input&quot;))+&quot;,&#13;&#10;&#9;b.ROWS_INSERTED = &quot;+((Integer)globalMap.get(&quot;Row_Inserted&quot;))+&quot;,&#13;&#10;&#9;b.ROWS_UPDATED = &quot;+((Integer)globalMap.get(&quot;Row_Updated&quot;))+&quot;,&#13;&#10;&#9;b.ROWS_DELETED = &quot;+((Integer)globalMap.get(&quot;Row_Deleted&quot;))+&quot;,&#13;&#10;&#9;b.ROWS_DISCARDED = &quot;+((Integer)globalMap.get(&quot;Row_Discarded&quot;))+&quot;,&#13;&#10;&#9;b.ROWS_REJECTED = &quot;+((Integer)globalMap.get(&quot;Row_Rejected&quot;))+&quot;&#13;&#10;FROM OMD_MODULE_INSTANCE b&#13;&#10;WHERE b.MODULE_INSTANCE_ID=&quot;+((String)globalMap.get(&quot;ModuleInstanceId&quot;))+&quot;&#13;&#10;&quot;" xmi:id="__tP_4XmTEeijjcAbfkO8-A"/>
      <query id="_t2Na8HmVEeijjcAbfkO8-A" label="update_ModuleInstanceId_Failure" value="&quot;UPDATE b&#13;&#10;SET &#13;&#10;&#9;b.EXECUTION_STATUS_CODE='F',&#13;&#10;&#9;b.END_DATETIME=GETDATE(),&#13;&#10;&#9;b.NEXT_RUN_INDICATOR='P',&#13;&#10;&#9;b.ROWS_INPUT = 0,&#13;&#10;&#9;b.ROWS_INSERTED = 0,&#13;&#10;&#9;b.ROWS_UPDATED = 0,&#13;&#10;&#9;b.ROWS_DELETED = 0,&#13;&#10;&#9;b.ROWS_DISCARDED = 0,&#13;&#10;&#9;b.ROWS_REJECTED = 0&#13;&#10;FROM OMD_MODULE_INSTANCE b&#13;&#10;WHERE b.MODULE_INSTANCE_ID=&quot;+((String)globalMap.get(&quot;ModuleInstanceId&quot;))+&quot;&#13;&#10;&quot;" xmi:id="_t2Na8XmVEeijjcAbfkO8-A"/>
      <query contextMode="true" id="_LbCDkHm-EeijjcAbfkO8-A" label="retrieve_INT_Sat" value="&quot;SELECT DISTINCT &#13;&#10;a.ETL_SAT_ID,&#13;&#10;PATTERN_NAME, &#13;&#10;SAT_NAME, &#13;&#10;MODULE_CODE, &#13;&#10;A.SOURCE_TABLE_NAME,&#13;&#10;E.DATA_STORE_CODE, &#13;&#10;A.SQL_SOURCE,&#13;&#10;sourceLayer.LAYER_NAME, &#13;&#10;p.etl_pattern_id, &#13;&#10;c.module_id&#13;&#10;FROM etl_SAT a&#13;&#10;INNER JOIN PRJ_OBJECT b ON a.PRJ_ID=b.prj_id&#13;&#10;INNER JOIN omd_module c ON b.OMD_MODULE_ID=c.MODULE_ID&#13;&#10;INNER JOIN OMD_MODULE_DATA_STORE d ON c.MODULE_ID=d.MODULE_ID&#13;&#10;INNER JOIN OMD_DATA_STORE e ON e.DATA_STORE_ID=d.DATA_STORE_ID &#13;&#10;INNER JOIN prj_layer sourceLayer ON sourceLayer.PRJ_LAYER_ID=b.SOURCE_PRJ_LAYER_ID&#13;&#10;INNER JOIN etl_pattern p ON a.etl_pattern_id=p.etl_pattern_id&#13;&#10;INNER JOIN omd_batch_module bm on bm.module_id=c.module_id&#13;&#10;INNER JOIN omd_batch g on g.batch_id=bm.BATCH_ID&#13;&#10;INNER JOIN ETL_BATCH h on h.batch_id=g.batch_id&#13;&#10;INNER JOIN omd_batch f on f.batch_id=h.PARENT_BATCH_ID&#13;&#10;WHERE &#13;&#10;&#9;&#9;&#9;OMD_CURRENT_RECORD_INDICATOR = 'Y' &#13;&#10;AND &#9;OMD_DELETED_RECORD_INDICATOR = 'N'&#13;&#10;AND f.batch_code='&quot;+context.Acceler8_batchCode+&quot;'&#13;&#10; ORDER BY 1&quot;" xmi:id="_LbCqoHm-EeijjcAbfkO8-A"/>
      <query contextMode="true" id="_O13N4HnNEeijjcAbfkO8-A" label="retrieve_INT_Lnk" value="&quot;SELECT DISTINCT &#13;&#10;a.ETL_LNK_ID,&#13;&#10;PATTERN_NAME, &#13;&#10;LNK_NAME, &#13;&#10;MODULE_CODE, &#13;&#10;A.SOURCE_TABLE_NAME,&#13;&#10;E.DATA_STORE_CODE, &#13;&#10;A.SQL_SOURCE,&#13;&#10;sourceLayer.LAYER_NAME, &#13;&#10;p.etl_pattern_id, &#13;&#10;c.module_id&#13;&#10;FROM etl_LNK a&#13;&#10;INNER JOIN PRJ_OBJECT b ON a.PRJ_ID=b.prj_id&#13;&#10;INNER JOIN omd_module c ON b.OMD_MODULE_ID=c.MODULE_ID&#13;&#10;INNER JOIN OMD_MODULE_DATA_STORE d ON c.MODULE_ID=d.MODULE_ID&#13;&#10;INNER JOIN OMD_DATA_STORE e ON e.DATA_STORE_ID=d.DATA_STORE_ID &#13;&#10;INNER JOIN prj_layer sourceLayer ON sourceLayer.PRJ_LAYER_ID=b.SOURCE_PRJ_LAYER_ID&#13;&#10;INNER JOIN etl_pattern p ON a.etl_pattern_id=p.etl_pattern_id&#13;&#10;INNER JOIN omd_batch_module bm on bm.module_id=c.module_id&#13;&#10;INNER JOIN omd_batch g on g.batch_id=bm.BATCH_ID&#13;&#10;INNER JOIN ETL_BATCH h on h.batch_id=g.batch_id&#13;&#10;INNER JOIN omd_batch f on f.batch_id=h.PARENT_BATCH_ID&#13;&#10;WHERE &#13;&#10;&#9;&#9;&#9;OMD_CURRENT_RECORD_INDICATOR = 'Y' &#13;&#10;AND &#9;OMD_DELETED_RECORD_INDICATOR = 'N'&#13;&#10;AND f.batch_code='&quot;+context.Acceler8_batchCode+&quot;'&#13;&#10;ORDER BY 1&quot;" xmi:id="_O13N4XnNEeijjcAbfkO8-A"/>
      <query contextMode="true" id="_YLMJEHnOEeijjcAbfkO8-A" label="retrieve_INT_LSAT" value="&quot;SELECT DISTINCT &#13;&#10;a.ETL_LSAT_ID,&#13;&#10;PATTERN_NAME, &#13;&#10;LSAT_NAME, &#13;&#10;MODULE_CODE, &#13;&#10;A.SOURCE_TABLE_NAME,&#13;&#10;E.DATA_STORE_CODE, &#13;&#10;A.SQL_SOURCE,&#13;&#10;sourceLayer.LAYER_NAME, &#13;&#10;p.etl_pattern_id, &#13;&#10;c.module_id&#13;&#10;FROM etl_LSAT a&#13;&#10;INNER JOIN PRJ_OBJECT b ON a.PRJ_ID=b.prj_id&#13;&#10;INNER JOIN omd_module c ON b.OMD_MODULE_ID=c.MODULE_ID&#13;&#10;INNER JOIN OMD_MODULE_DATA_STORE d ON c.MODULE_ID=d.MODULE_ID&#13;&#10;INNER JOIN OMD_DATA_STORE e ON e.DATA_STORE_ID=d.DATA_STORE_ID &#13;&#10;INNER JOIN prj_layer sourceLayer ON sourceLayer.PRJ_LAYER_ID=b.SOURCE_PRJ_LAYER_ID&#13;&#10;INNER JOIN etl_pattern p ON a.etl_pattern_id=p.etl_pattern_id&#13;&#10;INNER JOIN omd_batch_module bm on bm.module_id=c.module_id&#13;&#10;INNER JOIN omd_batch g on g.batch_id=bm.BATCH_ID&#13;&#10;INNER JOIN ETL_BATCH h on h.batch_id=g.batch_id&#13;&#10;INNER JOIN omd_batch f on f.batch_id=h.PARENT_BATCH_ID&#13;&#10;WHERE &#13;&#10;&#9;&#9;&#9;OMD_CURRENT_RECORD_INDICATOR = 'Y' &#13;&#10;AND &#9;OMD_DELETED_RECORD_INDICATOR = 'N'&#13;&#10;AND PATTERN_NAME LIKE '%Snowflake%'&#13;&#10;and f.batch_code='&quot;+context.Acceler8_batchCode+&quot;'&#13;&#10; ORDER BY 1&quot;" xmi:id="_YLMJEXnOEeijjcAbfkO8-A"/>
    </queries>
    <parameters key="CONN_PARA_KEY_USERNAME" value="context.EDW_900_OMD_Framework_Login" xmi:id="_LMOWAmSKEeiufZeuOqz-XA"/>
  </TalendMetadata:DatabaseConnection>
  <orgomg.cwm.resource.relational:Catalog dataManager="_LMOWAGSKEeiufZeuOqz-XA" name="EDW_900_OMD_Framework" xmi:id="_NWo78MYuEei-l51DB17xmA">
    <ownedElement name="dbo" xmi:id="_NWo78cYuEei-l51DB17xmA" xsi:type="orgomg.cwm.resource.relational:Schema"/>
  </orgomg.cwm.resource.relational:Catalog>
<Signature xmlns="http://www.w3.org/2000/09/xmldsig#" Id="_894a0467-f3f9-4d0f-88b7-c7107dc76253"><SignedInfo><CanonicalizationMethod Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/><SignatureMethod Algorithm="http://www.w3.org/2001/04/xmldsig-more#rsa-sha512"/><Reference URI=""><Transforms><Transform Algorithm="http://www.w3.org/2000/09/xmldsig#enveloped-signature"/></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha512"/><DigestValue>cxFUz1s+2TGkbkP2wrcGKUBPvOnWHeWZb+Rh5oHRHKM5mGZE+rSqPPaEMsN3K2c8kCrRISgVYVhK
WaNX1SWgbw==</DigestValue></Reference><Reference Type="http://www.w3.org/2000/09/xmldsig#SignatureProperties" URI="#_b3aa33d7-649f-4331-995b-0768dc2ff61f"><Transforms><Transform Algorithm="http://www.w3.org/2001/10/xml-exc-c14n#"/></Transforms><DigestMethod Algorithm="http://www.w3.org/2001/04/xmlenc#sha512"/><DigestValue>fTop51ax5lTmBhh9ecf49R5oSJ43kyAAIbsbEjO9O50F/jlMBb6fiUBpr0+nIg7UvkmRXXLI2XUQ
7YPYhKgQnw==</DigestValue></Reference></SignedInfo><SignatureValue>c+yHL3uetxjUyUcjSH/FLciUgSYMxFiL5PluXkgKOeHVpzoZsiRfHjKQ0aQdT5MCtssgV0PHVVAp
888uksb7q6fUsM+odTOlkakOm0v55Zg1KtaSaQFwfmlCqSwWKusKjAIhc1tS6EurH2hbjhNguvGR
XIsQaazKkF5k22egVq1REpijl1/+rQFBl6nFfQuBLeKR3b+5RIT0rl0Rbd6WN34ipopL4djGwHuj
qcRe9//+wAPAlr/imUY2UcLNCxiNUTjHjRMOsTiRAIvgQgVyENP4f9yXkPIO3Zc0/kXXfH5Wh5h0
S6Y6PpqsDO6xYK5faqIPXQFLMzji2arhlVQ1Aw==</SignatureValue><KeyInfo><X509Data><X509SubjectName>CN=Default code-signing certificate,OU=R&amp;D,O=Talend Inc.,ST=Paris,C=FR</X509SubjectName><X509Certificate>MIIFYzCCA0ugAwIBAgIBATANBgkqhkiG9w0BAQsFADCBjTELMAkGA1UEBhMCRlIxDjAMBgNVBAgM
BVBhcmlzMQ4wDAYDVQQHDAVQYXJpczEUMBIGA1UECgwLVGFsZW5kIEluYy4xDDAKBgNVBAsMA1Im
RDEWMBQGA1UEAwwNVGFsZW5kIFImRCBDQTEiMCAGCSqGSIb3DQEJARYTc2VjdXJpdHlAdGFsZW5k
LmNvbTAeFw0xODAxMTgwMDA2MTJaFw0yMTAxMTcwMDA2MTJaMGwxCzAJBgNVBAYTAkZSMQ4wDAYD
VQQIDAVQYXJpczEUMBIGA1UECgwLVGFsZW5kIEluYy4xDDAKBgNVBAsMA1ImRDEpMCcGA1UEAwwg
RGVmYXVsdCBjb2RlLXNpZ25pbmcgY2VydGlmaWNhdGUwggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDiCz1II/o6hDUWu/ygxTCT2o/fYxVzPW23AoONQC/Vuiqh0COyLIgaMTjBPmQdTQFq
rmM5tD64gi4TEQF+Z3iYt3daLdQUfaW9SzaMlY+XVNz5xnMBVDuiSHJSFE9lKnhgbKAHvOeoJo46
UgWwb1za0WpRckDtjKcntwEK1orZCgrcIo1nDvFXyB5n0KfpLyktEOa0bSHde50MPbvQeB66XlEb
lhjfs5S9WnAUja9RgqdwqZoI0ss+x/pjkQygDT8f17MktM21HOtg09lJlhMGJckhgD7jUF5tfYGM
sv/O27g5CToFhxOnutDtsrDw7AkEQIml8KJp97bQLAFlLnh1AgMBAAGjge0wgeowHQYDVR0OBBYE
FFzdy6ZfpUX8JwkM/SUrqkwLNqWAMB8GA1UdIwQYMBaAFOd9C3L8tYGZxoAr2SzsgnMytaj3MAsG
A1UdDwQEAwIHgDATBgNVHSUEDDAKBggrBgEFBQcDAzAJBgNVHRMEAjAAMHsGCWCGSAGG+EIBDQRu
FmxEZWZhdWx0IHRoaXJkIHBhcnR5IGNvZGUtc2lnbmluZyBjZXJ0aWZpY2F0ZS4gTm8gY29tbWl0
bWVudCBpcyBtYWRlIG9uIHRoZSBjb250ZW50IHNpZ25lZCBieSB0aGUgdGhpcmQgcGFydHkwDQYJ
KoZIhvcNAQELBQADggIBAKzYdnzoFgrRtDLSSzWtwuOrGo5+1RPoDHm/1dlbVnB7oZzUwfRGwZT5
ser0V7OZyt9wWR8iQ2ka30fHWrNAosNtlIkF88s5YZw7OOIMxR+qYA99BnWLa79DZVIuukI2f5qJ
Cr9nw6Oygo8CWeNMWhtXcvV4gqROhb2QMBrvWBw9QvNK1XMdtPShfWiXwyPzzRKgwqrN2meXtOY3
S+MXu6u+RUD9EYeElp9M+9Yp+zRySl5/s+0sbvo7qz369dlsw8XhKXT+s4YQQe3Sx14Kg3SDFXKn
QcVgycaZMOw4YUxOeP2hKOHnNuOMORfu3qlYkN/0RMGjn6r4PU4+yL276TiWI5b8J06y4leng2as
r3/fbKJ02Ni9kCnkY8wQS1yn45UNl1woSjryza4f4uLKGkrrIsUPXK+Vy4A1Il8XgFfmrtgA8m9s
EHyu0OyAJH/agWN+GLhF/ssp26oXhiYqTkG4sQtNRFQG0isaYf/JWSt3f8Q+7/pnZpz4mfEAFimI
BBLzRwDA6x9qqOn0RXxBo9pH16EO3SXPLR64cJum8B/RI/i8H6OkQDO1tEiE6UeceZk++U7fnD3c
6i9Km85GTgQi6REsVZGIL/tZNIzN//qPwi7cDo3Cf/xmPrIKQhHJaxCqmbjGDmC8AXOaqNfWotVX
Wy2dcglW62PDszE/HKh9</X509Certificate></X509Data></KeyInfo><Object><SignatureProperties><SignatureProperty Id="_b3aa33d7-649f-4331-995b-0768dc2ff61f" Target="#_894a0467-f3f9-4d0f-88b7-c7107dc76253"><Timestamp>2018-10-02 10:30:50</Timestamp></SignatureProperty></SignatureProperties></Object></Signature></xmi:XMI>